<!--/*  
Template to render Article detail.
Figma - https://www.figma.com/file/WWnQlqR6HRusFOYRIjAZ8G/1.1-Helios-Web-Templates?type=design&node-id=2479-39708&mode=design&t=SIfulKvfIgEcXe74-4
*/-->
<sly data-sly-use.article="ca.sunlife.web.cms.core.models.v1.Article"></sly>
<sly data-sly-test.notEmpty="${article.fragmentPath}">
    <article class="article-container mt-sl24 ${article.spacing}">
        <div class="row">
            <div class="col-sm-3">
                <!-- Time to read article -->
                <div 
                    data-sly-test="${article.articleData.articleReadtime}" 
                    class="body-small caption-text mb-sl8">
                        ${article.articleData.articleReadtime} ${'read' @ i18n}
                </div>
                <!-- article publish date -->
                <div 
                    data-sly-test="${article.checkboxHideDate && article.articleData.articlePublishedDate}" 
                    class="body-small">
                    ${article.articleData.articlePublishedDate}
                </div>
            </div>
            <div class="col-sm-9">
                <!-- social share on article page -->
                <div
                    data-sly-test="${article.socialShare}" 
                    class="article-socials">
                    <sly data-sly-resource="${ 'social-media' @ resourceType='sunlife/core/components/content/core-social-media/v1/social-media'}"/>
                </div>
            </div>
        </div>
        <!-- headline of article page -->
        <h1 
            data-sly-test="${article.articleData.articleHeadline}" 
            class="mt-sl24 mb-sl4">
                ${article.articleData.articleHeadline @context='html'}
        </h1>
        <!-- article author name -->
        <div 
            data-sly-test="${article.articleData.authorName}" 
            class="caption-text mb-sl24">
            ${'By' @ i18n} ${article.articleData.authorName @context='html'}
        </div>
        <!-- Mini description of article page -->
        <div 
            data-sly-test="${article.articleData.articleMiniDescription}"
            class="mb-sl24">
                ${article.articleData.articleMiniDescription  @context='html'}
        </div>
        <!-- Image of article page -->
        <div 
            data-sly-test="${article.articleData.articleImage}" 
            class="sl-article-image mb-sl24">
                <sly
                    data-sly-use.template="/apps/sunlife/core/components/content/core-image/v1/image/templates/generic-image.html"
                    data-sly-call="${template.details @  imageRef=article.articleData.articleImage,  altText=article.articleData.articleHeadline, imgClass='article-img w-100', isLazyLoaded=imgLazyLoaded }">
                </sly>
        </div>

        <div class="d-lg-none mt-sl64 article-anchor-links-inline"></div>
        <!-- main description of article page -->
        <div 
            data-sly-test="${article.articleData.articleMainDescription}"
            class="mb-sl24">
            ${article.articleData.articleMainDescription  @context='html'}
        </div>
        <!-- article page layout container for custom content -->
        <div>
            <sly data-sly-resource="${ 'layout-container' @ resourceType='sunlife/core/components/content/core-layout-container/v1/layout-container'}"/>
        </div>
        <!-- author body for article page -->
        <div 
            data-sly-test="${article.articleData.authorBody}" 
            class="mb-sl24">
                ${article.articleData.authorBody  @context='html'}
        </div>
    </article>
    <!-- article page open schema -->
    <div data-sly-element="${'script' @context='unsafe'}" data-sly-attribute.type="application/ld+json">
        {"@context":"http://schema.org","@type":"Article",
        "author":{"@type":"Person","name":"${article.articleData.authorName @context='html'}"},
        "datePublished":"${article.articleData.articlePublishedDate}",
        "headline":"${article.articleData.articleHeadline @context='html'}",
        "image":["${article.articleImage}","${article.ogImage}"],
        "publisher":{"@type":"Organization","name":"${article.publisherName}","logo":{"@type":"ImageObject","height":"60","width":"309","url":"${article.publisherLogo}"}},
        "dateModified":"${article.pageModifiedDate}",
        "description":"${article.ogDescription}",
        "mainEntityOfPage":"${article.pageUrl}"}
    </div>
    <div data-sly-element="${'script' @context='unsafe'}" data-sly-attribute.type="text/javascript">
        PDRTJS_settings_${article.articleID} =  {
            "id" : "${article.articleID}",
            "unique_id" : "${article.articleUniqueID}",
            "title" : "${article.articleData.articleHeadline @context ='html'}",
            "permalink" : "${article.pageUrl}"
        }
    </div>
 </sly>
<div data-sly-test="${!notEmpty}" class="cq-placeholder" data-emptytext="${component.title}"></div>
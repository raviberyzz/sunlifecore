<sly data-sly-use.newsModel="ca.sunlife.web.cms.core.models.v1.CNWNewsModel" />
<sly data-sly-use.templates="core/wcm/components/commons/v1/templates.html"/>
<sly data-sly-call="${templates.placeholder @ isEmpty = !text}"></sly>
<div data-section="${newsModel.dataSection}" data-sly-test = "${newsModel.newsType == '1'}">
    <div class="list-group  ${newsModel.spacing}" data-section="${newsModel.dataSection}">
        <div class="news-article" data-sly-repeat.releaseObj="${newsModel.releaseMain.releases.release}">
        <div class="list-group-item list-group-item-action">
          <p class="releaseDate">${releaseObj.releaseDate}</p> 
          <a class="h5 content" x-cq-linkchecker="skip" href="${newsModel.newsArticleShortenedUrl}${releaseObj.headlineUrl}/${releaseObj.id}/">${releaseObj.headline @ context = 'html'}</a>
        </div>
      </div>
    </div>
</div>

<sly data-sly-test = "${newsModel.newsType == '2'}">
    <div data-panelcontainer="${wcmmode.edit && 'tabs'}"
     data-section="${newsModel.dataSection}"
     id="${newsModel.id}"
     class="cmp-tabs sl-tabs ${newsModel.spacing}"
     data-section="${newsModel.dataSection}"
     data-cmp-is="tabs">	 
        <div class="stack-tab-container no-border">
            <div data-sly-set.items="${newsModel.yearsToShow}"
            data-sly-test="${items && items.size > 0}"
            data-sly-list.tab="${items}"
            class="cmp-tabs__tablist flex-row tabs-cluster without-scroll  nav nav-tabs" 
            aria-multiselectable="false"
            role="tablist">   
            <sly data-sly-test.isActive="${tab == newsModel.activeYear}"/>
            <div role="tab" class="cmp-tabs__tab${isActive ? ' cmp-tabs__tab--active' : ''} nav-item ${isActive ? ' active focused' : 'in-active'}"
                    tabindex="${isActive ? '0' : '-1'}"
                    data-cmp-hook-tabs="tab">
                    <a id="default-tab-tab-${tab}" aria-hidden="" class="with-border nav-link ${isActive ? ' active' : ''}" tabindex="${isActive ? '0' : '-1'}" x-cq-linkchecker="skip" href="${newsModel.relativeURL}${tab}/">
                            ${tab}
                    </a>
            </div>		   
            </div>		
        </div>
        <div class="tab-content">
            <div  data-sly-set.items="${newsModel.yearsToShow}"
                data-sly-test="${items && items.size > 0}"
                data-sly-repeat.yearsTab="${items}"
                id="${yearsTab}"
                role="tabpanel"
                aria-labelledby="${yearsTab}-tab"
                tabindex="0"
                class="cmp-tabs__tabpanel${yearsTab == newsModel.activeYear ? ' cmp-tabs__tabpanel--active' : ''}"
                data-cmp-hook-tabs="tabpanel">
                <sly data-sly-test="${yearsTab}"/>
					<sly data-sly-test.newsList="${newsModel.news.releaseMain.releases.release}" />
                    <div class="option-box no-margin news-option-table">
						<sly data-sly-test ="${newsList}" data-sly-list.news="${newsList}">
                            <div class="list-group">
                                <div class="news-article">
                                    <div class="list-group-item list-group-item-action">
                                        <p class="releaseDate">${news.releaseDate}</p> 
                                        <a class="h5 content" x-cq-linkchecker="skip" href="${newsModel.newsArticleShortenedUrl}${news.headlineUrl}/${news.id}/">${news.headline @ context='html'}</a>
                                        ${news.summary @ context='html'}
                                    </div>
                                </div>
                            </div>
						</sly>
                    </div>
					<sly data-sly-test = "${!newsList}">
						<div class="news-article">
							<p>${newsModel.noNewsMessage @ context='html'}</p>
						</div>
					</sly>
                    <sly data-sly-test.paginationObj="${newsModel.news.pagination}" />    
                    <sly data-sly-test.isPaginationrequired="${paginationObj.totalPages}" />                
                    <sly data-sly-test="${isPaginationrequired}" data-sly-use.tpl="sunlife/core/components/templates/v1/pagination.html"
                        data-sly-call="${tpl.pagination @ paginationObj = paginationObj, pageUrl = newsModel.requestURL}" />                    
                </div>                
            </div>
        </div>
</sly>

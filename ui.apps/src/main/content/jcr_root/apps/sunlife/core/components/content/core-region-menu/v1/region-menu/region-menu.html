<sly data-sly-use.regionModel="ca.sunlife.web.cms.core.models.v1.RegionMenuModel" />
<sly data-sly-use.templates="core/wcm/components/commons/v1/templates.html" />
<sly data-sly-call="${templates.placeholder @ isEmpty = !regionModel.regions}"></sly>

<div class="${regionModel.spacing}" data-section="${regionModel.dataSection}">
   <div class="region-content-container">
      <sly data-sly-list.region="${regionModel.regions}">
         <div class="region-content">
            <div class="country-header sl-link" data-sly-use.utilityListParsing="${'sunlife/core/components/common/url-parsing.js' @ path=region.regionURL}">
               <h2 data-sly-test="${region.items}" data-title="${region.dataTitle}">
                     <sly 
                        data-sly-use.template="/apps/sunlife/core/components/templates/v1/link-with-icon.html" 
                        data-sly-set.linkLabelText="${region.regionName}"
                        data-sly-call="${template.details @ linkLabel=linkLabelText, iconType=region.linkType  == 'sl-link-pdf' ? 'file-pdf' : (region.linkType == 'sl-link-external' ? 'external-link-alt' : 'chevron-circle-right')}">
                     </sly>
               </h2>
               <a data-sly-test="${!region.items}" class="${(region.linkHighlight =='yes') ? 'active' : ''}"data-title="${region.dataTitle}" href="${utilityListParsing.navPath}" target="${region.regionTarget}">
                     <sly 
                        data-sly-use.template="/apps/sunlife/core/components/templates/v1/link-with-icon.html" 
                        data-sly-set.linkLabelText="${region.regionName}"
                        data-sly-call="${template.details @ linkLabel=linkLabelText, iconType=region.linkType  == 'sl-link-pdf' ? 'file-pdf' : (region.linkType == 'sl-link-external' ? 'external-link-alt' : 'chevron-circle-right')}">
                     </sly>
               </a>
            </div>
            <ul data-sly-list.item="${region.items}">
               <li data-sly-use.itemParsing="${'sunlife/core/components/common/url-parsing.js' @ path=item.linkURL}"><a href="${itemParsing.navPath}" data-title="${item.dataTitle}" target="${item.linkTarget}" class="dropdown-item ${(region.linkHighlight =='yes' && itemList.first) ? 'active' : ''} sl-link"><div class="d-inline">
                  <sly 
                     data-sly-use.template="/apps/sunlife/core/components/templates/v1/link-with-icon.html" 
                     data-sly-set.linkLabelText="${item.linkName}"
                     data-sly-call="${template.details @ linkLabel=linkLabelText, iconType=item.linkType  == 'sl-link-pdf' ? 'file-pdf' : (item.linkType == 'sl-link-external' ? 'external-link-alt' : 'chevron-circle-right')}">
                  </sly>
               </div></a></li>
            </ul>
         </div>
      </sly>
   </div>
   <hr class="sl-divider hr" aria-hidden="true">
   <sly data-sly-use.utilityWorldwideParsing="${'sunlife/core/components/common/url-parsing.js' @ path=regionModel.worldwide.linkURL}"/>
   <a href="${utilityWorldwideParsing.navPath}" target="${regionModel.worldwide.linkTarget}" data-title="${regionModel.worldwide.dataTitle}" data-rr-ui-dropdown-item=""
      class="world-wide-content  dropdown-item sl-link">
      <div class="d-inline">
         <sly 
            data-sly-use.template="/apps/sunlife/core/components/templates/v1/link-with-icon.html" 
            data-sly-set.linkLabelText="${regionModel.worldwide.linkName}"
            data-sly-call="${template.details @ linkLabel=linkLabelText, iconType=regionModel.worldwide.linkType == 'sl-link-pdf' ? 'file-pdf' : (regionModel.worldwide.linkType == 'sl-link-external' ? 'external-link-alt' : (regionModel.worldwide.linkType == 'sl-link-internal' ? 'chevron-circle-right' : ''))}">
         </sly>
      </div>
   </a>
</div>
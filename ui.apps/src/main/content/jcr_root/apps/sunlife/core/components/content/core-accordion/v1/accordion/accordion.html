<div
  data-sly-use.accordion="ca.sunlife.web.cms.core.models.v1.AccordionModel"
  class="sl-accordion"
  data-sl-component="accordion"
  data-section="${accordion.analyticsId}"
>
  <div class="container">
    <div class="accordion">
      <div
        data-sly-test="${accordion.items.size > 0}"
        data-sly-repeat.item="${accordion.items}"
        class="accordion-item ${item.name in accordion.expandedItems ? 'expand-collapse' : ''}"
        data-cmp-hook-accordion="item"
        data-cmp-expanded="${item.name in accordion.expandedItems}"
      >
        <h4
          data-sly-element="${accordion.headingElement @ context='elementName'}"
          class="h4 accordion-header"
          data-toggle="collapse"          
          data-single-expansion="${accordion.singleExpansion}"
        >
          <button
            data-cmp-hook-accordion="button"
            aria-label="${item.title}"
            aria-expanded="${item.name in accordion.expandedItems ? 'true' : 'false'}"
            class="accordion-button collapsed"
            data-bs-toggle="collapse"
            type="button"
          >
            <span
              class="sl-icon fal fa-chevron-up ${item.name in accordion.expandedItems ? 'show' : 'hide'}"
            ></span>
            <span
              class="sl-icon fal fa-chevron-down ${item.name in accordion.expandedItems ? 'hide' : 'show'}"
            ></span>
            <span class="accordion-item-heading">${item.title}</span>
          </button>
        </h4>
        <div
          class="accordion-collapse collapse ${item.name in accordion.expandedItems && 'show expanded'}"
        >
          <div
            class="accordion-body"
            data-sly-resource="${item.name @ decorationTagName='div'}"
            data-cmp-hook-accordion="panel"
          ></div>
        </div>
      </div>
    </div>
  </div>
  <sly
    data-sly-resource="${resource.path @ resourceType='wcm/foundation/components/parsys/newpar', appendPath='/*', decorationTagName='div', cssClassName='new section aem-Grid-newComponent'}"
    data-sly-test="${(wcmmode.edit || wcmmode.preview) && accordion.items.size < 1}"
  ></sly>
</div>

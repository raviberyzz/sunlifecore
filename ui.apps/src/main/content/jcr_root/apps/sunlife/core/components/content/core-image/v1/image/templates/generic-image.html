<!--/*  
Template to render Generic Image.
*/-->
<template data-sly-template.details="${ @ image, imageRef, mobileImageRef, altText, imgClass, isLazyLoaded }">
    <a 
        data-sly-unwrap="${!properties.linkURL}"
        class="cmp-image__link image__link" 
        href="${properties.linkURL}" 
        data-title="${image.dataTitle || image.alt}"
        alt="${image.title || 'image link alternative text'}"
        data-cmp-hook-image="link">
            <noscript data-sly-unwrap="${!image.lazyEnabled}" data-cmp-hook-image="noscript">
                <picture>
                    <source srcset="${image.fileReference || imageRef}" media="(min-width: 600px)">
                    <source srcset="${image.fileReferenceMobile || image.fileReference || mobileImageRef || imageRef }" media="(max-width: 600px)">
                    <img 
                        data-sly-set.imgLazyLoaded="${properties.isLazyLoaded || isLazyLoaded ? 'lazy' : ''}"
                        src="${ image.fileReference || image.fileReferenceMobile || imageRef || mobileImageRef}" 
                        alt="${image.alt || altText|| true}" 
                        class="img ${properties.hideImageMobile ? 'd-none d-sm-block' : '' } ${imgClass}"
                        title="${image.displayPopupTitle && image.title}"
                        data-cmp-hook-image="image"
                        itemprop="contentUrl" 
                        data-sly-attribute.loading="${imgLazyLoaded}" />
                </picture>
            </noscript>
    </a>

    <div class="image-caption ${properties.hideImageMobile ? 'd-none d-sm-block' : '' } " 
        itemprop="caption" 
        data-sly-test="${!image.displayPopupTitle && image.title}">${image.title}</div>
    <meta 
        itemprop="caption" 
        content="${image.title}" 
        data-sly-test="${image.displayPopupTitle && image.title}">
</template>
